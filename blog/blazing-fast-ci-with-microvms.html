<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="author" content="OpenFaaS Ltd"/><meta name="twitter:card" content="summary_large_image"/><title>Blazing fast CI with MicroVMs</title><meta name="description" content="I saw an opportunity to fix self-hosted runners for GitHub Actions. Actuated is now in pilot and aims to solve most if not all of the friction."/><meta property="twitter:title" content="Blazing fast CI with MicroVMs"/><meta property="twitter:description" content="I saw an opportunity to fix self-hosted runners for GitHub Actions. Actuated is now in pilot and aims to solve most if not all of the friction."/><meta property="og:title" content="Blazing fast CI with MicroVMs"/><meta property="og:description" content="I saw an opportunity to fix self-hosted runners for GitHub Actions. Actuated is now in pilot and aims to solve most if not all of the friction."/><meta name="twitter:image:src" content="https://actuated.dev/images/2022-11-10-blazing-fast-ci-with-microvms/actuated-pilot.png"/><meta property="og:image" content="https://actuated.dev/images/2022-11-10-blazing-fast-ci-with-microvms/actuated-pilot.png"/><link rel="canonical" href="https://blog.alexellis.io/blazing-fast-ci-with-microvms/"/><meta name="next-head-count" content="14"/><meta charSet="utf-8"/><link rel="icon" type="image/png" href="/images/actuated.png"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"/><link rel="manifest" href="/manifest.json"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-M5YNDNX7VT"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-M5YNDNX7VT');
          </script><link rel="apple-touch-icon" href="/images/actuated.png"/><link rel="preload" href="/_next/static/css/f4c0cb90de644df9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f4c0cb90de644df9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-34e2100d07ae5757.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8ea6fd7d72e410bb.js" defer=""></script><script src="/_next/static/chunks/552-542f150c917a7625.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-109b0d2eddac75b5.js" defer=""></script><script src="/_next/static/kac80J-u66SFk_p-V65ox/_buildManifest.js" defer=""></script><script src="/_next/static/kac80J-u66SFk_p-V65ox/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="bg-white"><header><div class="relative bg-white" data-headlessui-state=""><div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-6 sm:px-6 md:justify-start md:space-x-10 lg:px-8"><div class="flex justify-start lg:w-0 lg:flex-1"><a href="/"><span class="sr-only">Actuated</span><img class="h-8 w-auto sm:h-10" src="/images/actuated.png" alt="Actuated logo"/></a></div><div class="-my-2 -mr-2 md:hidden"><button class="inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><nav class="hidden space-x-10 md:flex"><div class="relative" data-headlessui-state=""><button class="text-gray-500 group inline-flex items-center rounded-md bg-white text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" type="button" aria-expanded="false" data-headlessui-state=""><span>Solutions</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"></path></svg></button></div><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/blog">Blog</a><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="https://actuated.dev/blog/blazing-fast-ci-with-microvms">Announcement</a><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="https://docs.actuated.dev/">Docs</a></nav><div class="hidden items-center justify-end md:flex md:flex-1 lg:w-0"><a href="https://dashboard.actuated.dev" class="whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900">Sign in</a><a href="https://docs.actuated.dev/register/" class="ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700">Sign up</a></div></div></div></header><main><div class="container mx-auto max-w-4xl bg-white mt-4 px-4 sm:px-6"><h1 id="post_title" class="text-3xl mb-3 leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 text-center">Blazing fast CI with MicroVMs</h1></div><div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl"><div class="border-b border-gray-200 py-4 flex items-center text-gray-500 mx-auto"><div><img class="h-10 w-10 rounded-full" src="/images/alex.jpg" alt=""/></div><div class="ml-3"><p id="post_author" class="text-sm leading-5 font-medium text-gray-900">Alex Ellis</p><div class="flex text-sm leading-5 text-gray-500"><time dateTime="2022-11-10" id="post_date">November 10, 2022</time><span class="mx-1"></span></div></div></div><div class="mt-6 prose sm:prose-lg max-w-none"><p id="post_description" class="mb-4">I saw an opportunity to fix self-hosted runners for GitHub Actions. Actuated is now in pilot and aims to solve most if not all of the friction.</p></div><div id="post_content" class="mt-6 prose sm:prose-lg max-w-none"><p>Around 6-8 months ago I started exploring MicroVMs out of curiosity. Around the same time, I saw an opportunity to <strong>fix</strong> self-hosted runners for GitHub Actions. <a href="https://docs.actuated.dev/">Actuated</a> is now in pilot and aims to solve <a href="https://twitter.com/alexellisuk/status/1573599285362532353?s=20&#x26;t=dFcd54c4KIynk6vIGTb7QA">most if not all of the friction</a>.</p>
<p>There's three parts to this post:</p>
<ol>
<li>A quick debrief on Firecracker and MicroVMs vs legacy solutions</li>
<li>Exploring friction with GitHub Actions from a hosted and self-hosted perspective</li>
<li>Blazing fast CI with Actuated, and additional materials for learning more about Firecracker</li>
</ol>
<blockquote>
<p>We're looking for customers who want to solve the problems explored in this post.
<a href="https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform">Register for the pilot</a></p>
</blockquote>
<h2>1) A quick debrief on Firecracker 🔥</h2>
<blockquote>
<p>Firecracker is an open source virtualization technology that is purpose-built for creating and managing secure, multi-tenant container and function-based services.</p>
</blockquote>
<p>I learned about <a href="https://github.com/firecracker-microvm/firecracker">Firecracker</a> mostly by experimentation, building bigger and more useful prototypes. This helped me see what the experience was going to be like for users and the engineers working on a solution. I met others in the community and shared notes with them. Several people asked "Are microVMs the next thing that will replace containers?" I don't think they are, but they are an important tool where hard isolation is necessary.</p>
<p>Over time, one thing became obvious:</p>
<blockquote>
<p>MicroVMs fill a need that legacy VMs and containers can't.</p>
</blockquote>
<p>If you'd like to know more about how Firecracker works and how it compares to traditional VMs and Docker, you can replay my deep dive session with Richard Case, Principal Engineer (previously Weaveworks, now at SUSE).</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/CYCsa5e2vqg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<blockquote>
<p>Join Alex and Richard Case for a cracking time. The pair share what's got them so excited about Firecracker, the kinds of use-cases they see for microVMs, fundamentals of Linux Operating Systems and plenty of demos.</p>
</blockquote>
<h2>2) So what's wrong with GitHub Actions?</h2>
<p>First let me say that I think GitHub Actions is a far better experience than Travis ever was, and we have moved all our CI for OpenFaaS, inlets and actuated to Actions for public and private repos. We've built up a good working knowledge in the community and the company.</p>
<p>I'll split this part into two halves.</p>
<h3>What's wrong with hosted runners?</h3>
<p><strong>Hosted runners are constrained</strong></p>
<p>Hosted runners are incredibly convenient, and for most of us, that's all we'll ever need, especially for public repositories with fast CI builds.</p>
<p>Friction starts when the 7GB of RAM and 2 cores allocated causes issues for us - like when we're launching a KinD cluster, or trying to run E2E tests and need more power. Running out of disk space is also a common problem when using Docker images.</p>
<p>GitHub recently launched new paid plans to get faster runners, however the costs add up, the more you use them.</p>
<p>What if you could pay a flat fee, or bring your own hardware?</p>
<p><strong>They cannot be used with public repos</strong></p>
<p>From GitHub.com:</p>
<blockquote>
<p>We recommend that you only use self-hosted runners with private repositories. This is because forks of your public repository can potentially run dangerous code on your self-hosted runner machine by creating a pull request that executes the code in a workflow.</p>
</blockquote>
<blockquote>
<p>This is not an issue with GitHub-hosted runners because each GitHub-hosted runner is always a clean isolated virtual machine, and it is destroyed at the end of the job execution.</p>
</blockquote>
<blockquote>
<p>Untrusted workflows running on your self-hosted runner pose significant security risks for your machine and network environment, especially if your machine persists its environment between jobs.</p>
</blockquote>
<p>Read more about the risks: <a href="https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners">Self-hosted runner security</a></p>
<p>Despite a stern warning from GitHub, at least one notable CNCF project runs self-hosted ARM64 runners on public repositories.</p>
<p>On one hand, I don't blame that team, they have no other option if they want to do open source, it means a public repo, which means risking everything knowingly.</p>
<p>Is there another way we can help them?</p>
<p>I spoke to the GitHub Actions engineering team, who told me that using an ephemeral VM and an immutable OS image would solve the concerns.</p>
<p><strong>There's no access to ARM runners</strong></p>
<p>Building with QEMU is incredibly slow as Frederic Branczyk, Co-founder, Polar Signals found out when his Parca project was taking 33m5s to build.</p>
<p>I forked it and changed a line: <code>runs-on: actuated-aarch64</code> and reduced the total build time to 1m26s.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">This morning <a href="https://twitter.com/fredbrancz?ref_src=twsrc%5Etfw">@fredbrancz</a> said that his ARM64 build was taking 33 minutes using QEMU in a GitHub Action and a hosted runner.<br><br>I ran it on <a href="https://twitter.com/selfactuated?ref_src=twsrc%5Etfw">@selfactuated</a> using an ARM64 machine and a microVM.<br><br>That took the time down to 1m 26s!! About a 22x speed increase. <a href="https://t.co/zwF3j08vEV">https://t.co/zwF3j08vEV</a> <a href="https://t.co/ps21An7B9B">pic.twitter.com/ps21An7B9B</a></p>&mdash; Alex Ellis (@alexellisuk) <a href="https://twitter.com/alexellisuk/status/1583089248084729856?ref_src=twsrc%5Etfw">October 20, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p><strong>They limit maximum concurrency</strong></p>
<p>On the free plan, you can only launch 20 hosted runners at once, this increases as you pay GitHub more money.</p>
<p><strong>Builds on private repos are billed per minute</strong></p>
<p>I think this is a fair arrangement. GitHub donates Azure VMs to open source users or any public repo for that matter, and if you want to build closed-source software, you can do so by renting VMs per hour.</p>
<p>There's a free allowance for free users, then Pro users like myself get a few more build minutes included. However, These are on the standard, 2 Core 7GB RAM machines.</p>
<p>What if you didn't have to pay per minute of build time?</p>
<h3>What's wrong with self-hosted runners?</h3>
<p><strong>It's challenging to get all the packages right as per a hosted runner</strong></p>
<p>I spent several days running and re-running builds to get all the software required on a self-hosted runner for the private repos for <a href="https://www.openfaas.com/pricing/">OpenFaaS Pro</a>. Guess what?</p>
<p>I didn't want to touch that machine again afterwards, and even if I built up a list of apt packages, it'd be wrong in a few weeks. I then had a long period of tweaking the odd missing package and generating random container image names to prevent Docker and KinD from conflicting and causing side-effects.</p>
<p>What if we could get an image that had everything we needed and was always up to date, and we didn't have to maintain that?</p>
<p><strong>Self-hosted runners cause weird bugs due to caching</strong></p>
<p>If your job installs software like apt packages, the first run will be different from the second. The system is mutable, rather than immutable and the first problem I faced was things clashing like container names or KinD cluster names.</p>
<p><strong>You get limited to one job per machine at a time</strong></p>
<p>The default setup is for a self-hosted Actions Runner to only run one job at a time to avoid the issues I mentioned above.</p>
<p>What if you could schedule as many builds as made sense for the amount of RAM and core the host has?</p>
<p><strong>Docker isn't isolated at all</strong></p>
<p>If you install Docker, then the runner can take over that machine since Docker runs at root on the host. If you try user-namespaces, many things break in weird and frustrating aways like Kubernetes.</p>
<p>Container images and caches can cause conflicts between builds.</p>
<p><strong>Kubernetes isn't a safe alternative</strong></p>
<p>Adding a single large machine isn't a good option because of the dirty cache, weird stateful errors you can run into, and side-effects left over on the host.</p>
<p>So what do teams do?</p>
<p>They turn to a controller called <a href="https://github.com/actions/actions-runner-controller">Actions Runtime Controller (ARC)</a>.</p>
<p>ARC is non trivial to set up and requires you to create a GitHub App or PAT (please don't do that), then to provision, monitor, maintain and upgrade a bunch of infrastructure.</p>
<p>This controller starts a number of re-usable (not one-shot) Pods and has them register as a runner for your jobs. Unfortunately, they still need to use Docker or need to run Kubernetes which leads us to two awful options:</p>
<ol>
<li>Sharing a Docker Socket (easy to become root on the host)</li>
<li>Running Docker In Docker (requires a privileged container, root on the host)</li>
</ol>
<p>There is a third option which is to use a non-root container, but that means you can't use <code>sudo</code> in your builds. You've now crippled your CI.</p>
<p>What if you don't need to use Docker build/run, Kaniko or Kubernetes in CI at all? Well ARC may be a good solution for you, until the day you do need to ship a container image.</p>
<h2>3) Can we fix it? Yes we can.</h2>
<p><a href="https://docs.actuated.dev/">Actuated</a> ("cause (a machine or device) to operate.") is a semi-managed solution that we're building at OpenFaaS Ltd.</p>
<p><img src="https://docs.actuated.dev/images/conceptual-high-level.png" alt="A semi-managed solution, where you provide hosts and we do the rest."></p>
<blockquote>
<p>A semi-managed solution, where you provide hosts and we do the rest.</p>
</blockquote>
<p>You provide your own hosts to run jobs, we schedule to them and maintain a VM image with everything you need.</p>
<p>You install our GitHub App, then change <code>runs-on: ubuntu-latest</code> to <code>runs-on: actuated</code> or <code>runs-on: actuated-aarch64</code> for ARM.</p>
<p>Then, provision one or more VMs with nested virtualisation enabled on GCP, DigitalOcean or Azure, or a bare-metal host, and <a href="https://docs.actuated.dev/add-agent/">install our agent</a>. That's it.</p>
<p>If you need ARM support for your project, the <a href="https://aws.amazon.com/ec2/instance-types/a1/">a1.metal from AWS</a> is ideal with 16 cores and 32GB RAM, or an <a href="https://amperecomputing.com/processors/ampere-altra/">Ampere Altra</a> machine like the c3.large.arm64 from <a href="https://metal.equinix.com/product/servers/c3-large-arm64/">Equinix Metal</a> with 80 Cores and 256GB RAM if you really need to push things. The 2020 M1 Mac Mini also works well with <a href="https://asahilinux.org/">Asahi Linux</a>, and can be maxed out at 16GB RAM / 8 Cores. <a href="https://twitter.com/alexellisuk/status/1585228202087415808?s=20&#x26;t=kW-cfn44pQTzUsRiMw32kQ">I even tried Frederic's Parca job on my Raspberry Pi</a> and it was 26m30s quicker than a hosted runner!</p>
<p>Whenever a build is triggered by a repo in your organisation, the control plane will schedule a microVM on one of your own servers, then GitHub takes over from there. When the GitHub runner exits, we forcibly delete the VM.</p>
<p>You get:</p>
<ul>
<li>A fresh, isolated VM for every build, no re-use at all</li>
<li>A fast boot time of ~ &#x3C;1-2s</li>
<li>An immutable image, which is updated regularly and built with automation</li>
<li>Docker preinstalled and running at boot-up</li>
<li>Efficient scheduling and packing of builds to your fleet of hosts</li>
</ul>
<p>It's capable of running Docker and Kubernetes (KinD, kubeadm, K3s) with full isolation. You'll find some <a href="https://docs.actuated.dev/">examples in the docs</a>, but anything that works on a hosted runner we expect to work with actuated also.</p>
<p>Here's what it looks like:</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/2o28iUC-J1w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>Want the deeply technical information and comparisons? <a href="https://docs.actuated.dev/faq/">Check out the FAQ</a></p>
<p>You may also be interested in a debug experience that we're building for GitHub Actions. It can be used to launch a shell session over SSH with hosted and self-hosted runners: <a href="https://www.youtube.com/watch?v=l9VuQZ4a5pc">Debug GitHub Actions with SSH and launch a cloud shell</a></p>
<h2>Wrapping up</h2>
<p>We're piloting actuated with customers today. If you're interested in faster, more isolated CI without compromising on security, we would like to hear from you.</p>
<p><strong>Register for the pilot</strong></p>
<p>We're looking for customers to participate in our pilot.</p>
<p><a href="https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform">Register for the pilot 📝</a></p>
<p>Actuated is live in pilot and we've already run thousands of VMs for our customers, but we're only just getting started here.</p>
<p><img src="https://blog.alexellis.io/content/images/2022/11/vm-launch.png" alt="VM launch events over the past several days"></p>
<blockquote>
<p>Pictured: VM launch events over the past several days</p>
</blockquote>
<p>Other links:</p>
<ul>
<li><a href="https://docs.actuated.dev/faq/">Read the FAQ</a></li>
<li><a href="https://www.youtube.com/watch?v=2o28iUC-J1w">Watch a short video demo</a></li>
<li><a href="https://twitter.com/selfactuated">Follow actuated on Twitter</a></li>
</ul>
<p><strong>What about GitLab?</strong></p>
<p>We're focusing on GitHub Actions users for the pilot, but have a prototype for GitLab. If you'd like to know more, reach out using the <a href="https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform">Apply for the pilot form</a>.</p>
<p><strong>Just want to play with Firecracker or learn more about microVMs vs legacy VMs and containers?</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch?v=CYCsa5e2vqg">Watch A cracking time: Exploring Firecracker &#x26; MicroVMs</a></li>
<li><a href="https://github.com/alexellis/firecracker-init-lab">Try my firecracker lab on GitHub - alexellis/firecracker-init-lab</a></li>
</ul>
<h2>What are people saying about actuated?</h2>
<blockquote>
<p>"We've been piloting Actuated recently. It only took 30s create 5x isolated VMs, run the jobs and tear them down again inside our on-prem environment (no Docker socket mounting shenanigans)! Pretty impressive stuff."</p>
<p>Addison van den Hoeven - DevOps Lead, Riskfuel</p>
</blockquote>
<blockquote>
<p>"Actuated looks super cool, interested to see where you take it!"</p>
<p>Guillermo Rauch, CEO Vercel</p>
</blockquote>
<blockquote>
<p>"This is great, perfect for jobs that take forever on normal GitHub runners. I love what Alex is doing here."</p>
<p>Richard Case, Principal Engineer, SUSE</p>
</blockquote>
<blockquote>
<p>"Thank you. I think actuated is amazing."</p>
<p>Alan Sill, NSF Cloud and Autonomic Computing (CAC) Industry-University Cooperative Research Center</p>
</blockquote>
<blockquote>
<p>"Nice work, security aspects alone with shared/stale envs on self-hosted runners."</p>
<p>Matt Johnson, Palo Alto Networks</p>
</blockquote>
<blockquote>
<p>"Is there a way to pay github for runners that suck less?"</p>
<p>Darren Shepherd, Acorn Labs</p>
</blockquote>
<blockquote>
<p>"Excited to try out actuated! We use custom actions runners and I think there's something here 🔥"</p>
<p>Nick Gerace, System Initiative</p>
</blockquote>
<blockquote>
<p>It is awesome to see the work of Alex Ellis with Firecracker VMs. They are provisioning and running Github Actions in isolated VMs in seconds (vs minutes)."</p>
<p>Rinat Abdullin, ML &#x26; Innovation at Trustbit</p>
</blockquote>
<blockquote>
<p>This is awesome!" (After reducing Parca build time from 33.5 minutes to 1 minute 26s)</p>
<p>Frederic Branczyk, Co-founder, Polar Signals</p>
</blockquote></div></div></main><footer class="bg-white"><div class="mx-auto max-w-7xl py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8"><div class="flex justify-center space-x-6 md:order-2"><a class="text-gray-400 hover:text-gray-500" href="https://twitter.com/self-actuated"><span class="sr-only">Twitter</span><svg fill="currentColor" viewBox="0 0 24 24" class="h-6 w-6" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a class="text-gray-400 hover:text-gray-500" href="https://github.com/self-actuated"><span class="sr-only">GitHub</span><svg fill="currentColor" viewBox="0 0 24 24" class="h-6 w-6" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a class="text-gray-400 hover:text-gray-500" href="/rss.xml"><span class="sr-only">RSS</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a></div><div class="mt-8 md:order-1 md:mt-0"><p class="text-center text-base text-gray-400">© 2022 <a href="https://openfaas.com">OpenFaaS Ltd</a>, Inc. All rights reserved.</p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"blazing-fast-ci-with-microvms","fileName":"2022-11-10-blazing-fast-ci-with-microvms.md","contentHtml":"\u003cp\u003eAround 6-8 months ago I started exploring MicroVMs out of curiosity. Around the same time, I saw an opportunity to \u003cstrong\u003efix\u003c/strong\u003e self-hosted runners for GitHub Actions. \u003ca href=\"https://docs.actuated.dev/\"\u003eActuated\u003c/a\u003e is now in pilot and aims to solve \u003ca href=\"https://twitter.com/alexellisuk/status/1573599285362532353?s=20\u0026#x26;t=dFcd54c4KIynk6vIGTb7QA\"\u003emost if not all of the friction\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThere's three parts to this post:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eA quick debrief on Firecracker and MicroVMs vs legacy solutions\u003c/li\u003e\n\u003cli\u003eExploring friction with GitHub Actions from a hosted and self-hosted perspective\u003c/li\u003e\n\u003cli\u003eBlazing fast CI with Actuated, and additional materials for learning more about Firecracker\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWe're looking for customers who want to solve the problems explored in this post.\n\u003ca href=\"https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform\"\u003eRegister for the pilot\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e1) A quick debrief on Firecracker 🔥\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eFirecracker is an open source virtualization technology that is purpose-built for creating and managing secure, multi-tenant container and function-based services.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI learned about \u003ca href=\"https://github.com/firecracker-microvm/firecracker\"\u003eFirecracker\u003c/a\u003e mostly by experimentation, building bigger and more useful prototypes. This helped me see what the experience was going to be like for users and the engineers working on a solution. I met others in the community and shared notes with them. Several people asked \"Are microVMs the next thing that will replace containers?\" I don't think they are, but they are an important tool where hard isolation is necessary.\u003c/p\u003e\n\u003cp\u003eOver time, one thing became obvious:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eMicroVMs fill a need that legacy VMs and containers can't.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIf you'd like to know more about how Firecracker works and how it compares to traditional VMs and Docker, you can replay my deep dive session with Richard Case, Principal Engineer (previously Weaveworks, now at SUSE).\u003c/p\u003e\n\u003ciframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/CYCsa5e2vqg\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen\u003e\u003c/iframe\u003e\n\u003cblockquote\u003e\n\u003cp\u003eJoin Alex and Richard Case for a cracking time. The pair share what's got them so excited about Firecracker, the kinds of use-cases they see for microVMs, fundamentals of Linux Operating Systems and plenty of demos.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e2) So what's wrong with GitHub Actions?\u003c/h2\u003e\n\u003cp\u003eFirst let me say that I think GitHub Actions is a far better experience than Travis ever was, and we have moved all our CI for OpenFaaS, inlets and actuated to Actions for public and private repos. We've built up a good working knowledge in the community and the company.\u003c/p\u003e\n\u003cp\u003eI'll split this part into two halves.\u003c/p\u003e\n\u003ch3\u003eWhat's wrong with hosted runners?\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eHosted runners are constrained\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eHosted runners are incredibly convenient, and for most of us, that's all we'll ever need, especially for public repositories with fast CI builds.\u003c/p\u003e\n\u003cp\u003eFriction starts when the 7GB of RAM and 2 cores allocated causes issues for us - like when we're launching a KinD cluster, or trying to run E2E tests and need more power. Running out of disk space is also a common problem when using Docker images.\u003c/p\u003e\n\u003cp\u003eGitHub recently launched new paid plans to get faster runners, however the costs add up, the more you use them.\u003c/p\u003e\n\u003cp\u003eWhat if you could pay a flat fee, or bring your own hardware?\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThey cannot be used with public repos\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eFrom GitHub.com:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWe recommend that you only use self-hosted runners with private repositories. This is because forks of your public repository can potentially run dangerous code on your self-hosted runner machine by creating a pull request that executes the code in a workflow.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThis is not an issue with GitHub-hosted runners because each GitHub-hosted runner is always a clean isolated virtual machine, and it is destroyed at the end of the job execution.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eUntrusted workflows running on your self-hosted runner pose significant security risks for your machine and network environment, especially if your machine persists its environment between jobs.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eRead more about the risks: \u003ca href=\"https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners\"\u003eSelf-hosted runner security\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eDespite a stern warning from GitHub, at least one notable CNCF project runs self-hosted ARM64 runners on public repositories.\u003c/p\u003e\n\u003cp\u003eOn one hand, I don't blame that team, they have no other option if they want to do open source, it means a public repo, which means risking everything knowingly.\u003c/p\u003e\n\u003cp\u003eIs there another way we can help them?\u003c/p\u003e\n\u003cp\u003eI spoke to the GitHub Actions engineering team, who told me that using an ephemeral VM and an immutable OS image would solve the concerns.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThere's no access to ARM runners\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eBuilding with QEMU is incredibly slow as Frederic Branczyk, Co-founder, Polar Signals found out when his Parca project was taking 33m5s to build.\u003c/p\u003e\n\u003cp\u003eI forked it and changed a line: \u003ccode\u003eruns-on: actuated-aarch64\u003c/code\u003e and reduced the total build time to 1m26s.\u003c/p\u003e\n\u003cblockquote class=\"twitter-tweet\"\u003e\u003cp lang=\"en\" dir=\"ltr\"\u003eThis morning \u003ca href=\"https://twitter.com/fredbrancz?ref_src=twsrc%5Etfw\"\u003e@fredbrancz\u003c/a\u003e said that his ARM64 build was taking 33 minutes using QEMU in a GitHub Action and a hosted runner.\u003cbr\u003e\u003cbr\u003eI ran it on \u003ca href=\"https://twitter.com/selfactuated?ref_src=twsrc%5Etfw\"\u003e@selfactuated\u003c/a\u003e using an ARM64 machine and a microVM.\u003cbr\u003e\u003cbr\u003eThat took the time down to 1m 26s!! About a 22x speed increase. \u003ca href=\"https://t.co/zwF3j08vEV\"\u003ehttps://t.co/zwF3j08vEV\u003c/a\u003e \u003ca href=\"https://t.co/ps21An7B9B\"\u003epic.twitter.com/ps21An7B9B\u003c/a\u003e\u003c/p\u003e\u0026mdash; Alex Ellis (@alexellisuk) \u003ca href=\"https://twitter.com/alexellisuk/status/1583089248084729856?ref_src=twsrc%5Etfw\"\u003eOctober 20, 2022\u003c/a\u003e\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"\u003e\u003c/script\u003e\n\u003cp\u003e\u003cstrong\u003eThey limit maximum concurrency\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eOn the free plan, you can only launch 20 hosted runners at once, this increases as you pay GitHub more money.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eBuilds on private repos are billed per minute\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI think this is a fair arrangement. GitHub donates Azure VMs to open source users or any public repo for that matter, and if you want to build closed-source software, you can do so by renting VMs per hour.\u003c/p\u003e\n\u003cp\u003eThere's a free allowance for free users, then Pro users like myself get a few more build minutes included. However, These are on the standard, 2 Core 7GB RAM machines.\u003c/p\u003e\n\u003cp\u003eWhat if you didn't have to pay per minute of build time?\u003c/p\u003e\n\u003ch3\u003eWhat's wrong with self-hosted runners?\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eIt's challenging to get all the packages right as per a hosted runner\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI spent several days running and re-running builds to get all the software required on a self-hosted runner for the private repos for \u003ca href=\"https://www.openfaas.com/pricing/\"\u003eOpenFaaS Pro\u003c/a\u003e. Guess what?\u003c/p\u003e\n\u003cp\u003eI didn't want to touch that machine again afterwards, and even if I built up a list of apt packages, it'd be wrong in a few weeks. I then had a long period of tweaking the odd missing package and generating random container image names to prevent Docker and KinD from conflicting and causing side-effects.\u003c/p\u003e\n\u003cp\u003eWhat if we could get an image that had everything we needed and was always up to date, and we didn't have to maintain that?\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSelf-hosted runners cause weird bugs due to caching\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIf your job installs software like apt packages, the first run will be different from the second. The system is mutable, rather than immutable and the first problem I faced was things clashing like container names or KinD cluster names.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eYou get limited to one job per machine at a time\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe default setup is for a self-hosted Actions Runner to only run one job at a time to avoid the issues I mentioned above.\u003c/p\u003e\n\u003cp\u003eWhat if you could schedule as many builds as made sense for the amount of RAM and core the host has?\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eDocker isn't isolated at all\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIf you install Docker, then the runner can take over that machine since Docker runs at root on the host. If you try user-namespaces, many things break in weird and frustrating aways like Kubernetes.\u003c/p\u003e\n\u003cp\u003eContainer images and caches can cause conflicts between builds.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eKubernetes isn't a safe alternative\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAdding a single large machine isn't a good option because of the dirty cache, weird stateful errors you can run into, and side-effects left over on the host.\u003c/p\u003e\n\u003cp\u003eSo what do teams do?\u003c/p\u003e\n\u003cp\u003eThey turn to a controller called \u003ca href=\"https://github.com/actions/actions-runner-controller\"\u003eActions Runtime Controller (ARC)\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eARC is non trivial to set up and requires you to create a GitHub App or PAT (please don't do that), then to provision, monitor, maintain and upgrade a bunch of infrastructure.\u003c/p\u003e\n\u003cp\u003eThis controller starts a number of re-usable (not one-shot) Pods and has them register as a runner for your jobs. Unfortunately, they still need to use Docker or need to run Kubernetes which leads us to two awful options:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eSharing a Docker Socket (easy to become root on the host)\u003c/li\u003e\n\u003cli\u003eRunning Docker In Docker (requires a privileged container, root on the host)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThere is a third option which is to use a non-root container, but that means you can't use \u003ccode\u003esudo\u003c/code\u003e in your builds. You've now crippled your CI.\u003c/p\u003e\n\u003cp\u003eWhat if you don't need to use Docker build/run, Kaniko or Kubernetes in CI at all? Well ARC may be a good solution for you, until the day you do need to ship a container image.\u003c/p\u003e\n\u003ch2\u003e3) Can we fix it? Yes we can.\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.actuated.dev/\"\u003eActuated\u003c/a\u003e (\"cause (a machine or device) to operate.\") is a semi-managed solution that we're building at OpenFaaS Ltd.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://docs.actuated.dev/images/conceptual-high-level.png\" alt=\"A semi-managed solution, where you provide hosts and we do the rest.\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eA semi-managed solution, where you provide hosts and we do the rest.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eYou provide your own hosts to run jobs, we schedule to them and maintain a VM image with everything you need.\u003c/p\u003e\n\u003cp\u003eYou install our GitHub App, then change \u003ccode\u003eruns-on: ubuntu-latest\u003c/code\u003e to \u003ccode\u003eruns-on: actuated\u003c/code\u003e or \u003ccode\u003eruns-on: actuated-aarch64\u003c/code\u003e for ARM.\u003c/p\u003e\n\u003cp\u003eThen, provision one or more VMs with nested virtualisation enabled on GCP, DigitalOcean or Azure, or a bare-metal host, and \u003ca href=\"https://docs.actuated.dev/add-agent/\"\u003einstall our agent\u003c/a\u003e. That's it.\u003c/p\u003e\n\u003cp\u003eIf you need ARM support for your project, the \u003ca href=\"https://aws.amazon.com/ec2/instance-types/a1/\"\u003ea1.metal from AWS\u003c/a\u003e is ideal with 16 cores and 32GB RAM, or an \u003ca href=\"https://amperecomputing.com/processors/ampere-altra/\"\u003eAmpere Altra\u003c/a\u003e machine like the c3.large.arm64 from \u003ca href=\"https://metal.equinix.com/product/servers/c3-large-arm64/\"\u003eEquinix Metal\u003c/a\u003e with 80 Cores and 256GB RAM if you really need to push things. The 2020 M1 Mac Mini also works well with \u003ca href=\"https://asahilinux.org/\"\u003eAsahi Linux\u003c/a\u003e, and can be maxed out at 16GB RAM / 8 Cores. \u003ca href=\"https://twitter.com/alexellisuk/status/1585228202087415808?s=20\u0026#x26;t=kW-cfn44pQTzUsRiMw32kQ\"\u003eI even tried Frederic's Parca job on my Raspberry Pi\u003c/a\u003e and it was 26m30s quicker than a hosted runner!\u003c/p\u003e\n\u003cp\u003eWhenever a build is triggered by a repo in your organisation, the control plane will schedule a microVM on one of your own servers, then GitHub takes over from there. When the GitHub runner exits, we forcibly delete the VM.\u003c/p\u003e\n\u003cp\u003eYou get:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA fresh, isolated VM for every build, no re-use at all\u003c/li\u003e\n\u003cli\u003eA fast boot time of ~ \u0026#x3C;1-2s\u003c/li\u003e\n\u003cli\u003eAn immutable image, which is updated regularly and built with automation\u003c/li\u003e\n\u003cli\u003eDocker preinstalled and running at boot-up\u003c/li\u003e\n\u003cli\u003eEfficient scheduling and packing of builds to your fleet of hosts\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIt's capable of running Docker and Kubernetes (KinD, kubeadm, K3s) with full isolation. You'll find some \u003ca href=\"https://docs.actuated.dev/\"\u003eexamples in the docs\u003c/a\u003e, but anything that works on a hosted runner we expect to work with actuated also.\u003c/p\u003e\n\u003cp\u003eHere's what it looks like:\u003c/p\u003e\n\u003ciframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/2o28iUC-J1w\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen\u003e\u003c/iframe\u003e\n\u003cp\u003eWant the deeply technical information and comparisons? \u003ca href=\"https://docs.actuated.dev/faq/\"\u003eCheck out the FAQ\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eYou may also be interested in a debug experience that we're building for GitHub Actions. It can be used to launch a shell session over SSH with hosted and self-hosted runners: \u003ca href=\"https://www.youtube.com/watch?v=l9VuQZ4a5pc\"\u003eDebug GitHub Actions with SSH and launch a cloud shell\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eWrapping up\u003c/h2\u003e\n\u003cp\u003eWe're piloting actuated with customers today. If you're interested in faster, more isolated CI without compromising on security, we would like to hear from you.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eRegister for the pilot\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eWe're looking for customers to participate in our pilot.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform\"\u003eRegister for the pilot 📝\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eActuated is live in pilot and we've already run thousands of VMs for our customers, but we're only just getting started here.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://blog.alexellis.io/content/images/2022/11/vm-launch.png\" alt=\"VM launch events over the past several days\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ePictured: VM launch events over the past several days\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOther links:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.actuated.dev/faq/\"\u003eRead the FAQ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.youtube.com/watch?v=2o28iUC-J1w\"\u003eWatch a short video demo\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://twitter.com/selfactuated\"\u003eFollow actuated on Twitter\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eWhat about GitLab?\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eWe're focusing on GitHub Actions users for the pilot, but have a prototype for GitLab. If you'd like to know more, reach out using the \u003ca href=\"https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform\"\u003eApply for the pilot form\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eJust want to play with Firecracker or learn more about microVMs vs legacy VMs and containers?\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.youtube.com/watch?v=CYCsa5e2vqg\"\u003eWatch A cracking time: Exploring Firecracker \u0026#x26; MicroVMs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/alexellis/firecracker-init-lab\"\u003eTry my firecracker lab on GitHub - alexellis/firecracker-init-lab\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eWhat are people saying about actuated?\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"We've been piloting Actuated recently. It only took 30s create 5x isolated VMs, run the jobs and tear them down again inside our on-prem environment (no Docker socket mounting shenanigans)! Pretty impressive stuff.\"\u003c/p\u003e\n\u003cp\u003eAddison van den Hoeven - DevOps Lead, Riskfuel\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Actuated looks super cool, interested to see where you take it!\"\u003c/p\u003e\n\u003cp\u003eGuillermo Rauch, CEO Vercel\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"This is great, perfect for jobs that take forever on normal GitHub runners. I love what Alex is doing here.\"\u003c/p\u003e\n\u003cp\u003eRichard Case, Principal Engineer, SUSE\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Thank you. I think actuated is amazing.\"\u003c/p\u003e\n\u003cp\u003eAlan Sill, NSF Cloud and Autonomic Computing (CAC) Industry-University Cooperative Research Center\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Nice work, security aspects alone with shared/stale envs on self-hosted runners.\"\u003c/p\u003e\n\u003cp\u003eMatt Johnson, Palo Alto Networks\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Is there a way to pay github for runners that suck less?\"\u003c/p\u003e\n\u003cp\u003eDarren Shepherd, Acorn Labs\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Excited to try out actuated! We use custom actions runners and I think there's something here 🔥\"\u003c/p\u003e\n\u003cp\u003eNick Gerace, System Initiative\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIt is awesome to see the work of Alex Ellis with Firecracker VMs. They are provisioning and running Github Actions in isolated VMs in seconds (vs minutes).\"\u003c/p\u003e\n\u003cp\u003eRinat Abdullin, ML \u0026#x26; Innovation at Trustbit\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThis is awesome!\" (After reducing Parca build time from 33.5 minutes to 1 minute 26s)\u003c/p\u003e\n\u003cp\u003eFrederic Branczyk, Co-founder, Polar Signals\u003c/p\u003e\n\u003c/blockquote\u003e","title":"Blazing fast CI with MicroVMs","description":"I saw an opportunity to fix self-hosted runners for GitHub Actions. Actuated is now in pilot and aims to solve most if not all of the friction.","author":"Alex Ellis","tags":["cicd","bare-metal","kubernetes","DevOps","linux","firecracker"],"author_img":"alex","image":"/images/2022-11-10-blazing-fast-ci-with-microvms/actuated-pilot.png","canonical":"https://blog.alexellis.io/blazing-fast-ci-with-microvms/","date":"2022-11-10"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"blazing-fast-ci-with-microvms"},"buildId":"kac80J-u66SFk_p-V65ox","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>