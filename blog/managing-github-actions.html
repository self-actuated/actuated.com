<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="author" content="OpenFaaS Ltd"/><meta name="twitter:card" content="summary_large_image"/><title>Lessons learned managing GitHub Actions and Firecracker</title><meta name="description" content="Alex shares lessons from building a managed service for GitHub Actions with Firecracker."/><meta property="twitter:title" content="Lessons learned managing GitHub Actions and Firecracker"/><meta property="twitter:description" content="Alex shares lessons from building a managed service for GitHub Actions with Firecracker."/><meta property="og:title" content="Lessons learned managing GitHub Actions and Firecracker"/><meta property="og:description" content="Alex shares lessons from building a managed service for GitHub Actions with Firecracker."/><meta name="twitter:image:src" content="https://actuated.dev/images/2023-03-lessons-learned/background.jpg"/><meta property="og:image" content="https://actuated.dev/images/2023-03-lessons-learned/background.jpg"/><meta name="next-head-count" content="13"/><meta charSet="utf-8"/><link rel="icon" type="image/png" href="/images/actuated.png"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"/><link rel="manifest" href="/manifest.json"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-M5YNDNX7VT"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-M5YNDNX7VT');
          </script><link rel="apple-touch-icon" href="/images/actuated.png"/><link rel="preload" href="/_next/static/css/af91c5ff992635f2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/af91c5ff992635f2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-34e2100d07ae5757.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a8c1061b210f7f21.js" defer=""></script><script src="/_next/static/chunks/552-542f150c917a7625.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-109b0d2eddac75b5.js" defer=""></script><script src="/_next/static/xNxKTL9EdRozXIoduewS4/_buildManifest.js" defer=""></script><script src="/_next/static/xNxKTL9EdRozXIoduewS4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="bg-white"><header><div class="relative bg-white" data-headlessui-state=""><div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-6 sm:px-6 md:justify-start md:space-x-10 lg:px-8"><div class="flex justify-start lg:w-0 lg:flex-1"><a href="/"><span class="sr-only">Actuated</span><img class="h-8 w-auto sm:h-10" src="/images/actuated.png" alt="Actuated logo"/></a></div><div class="-my-2 -mr-2 md:hidden"><button class="inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><nav class="hidden space-x-10 md:flex"><div class="relative" data-headlessui-state=""><button class="text-gray-500 group inline-flex items-center rounded-md bg-white text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" type="button" aria-expanded="false" data-headlessui-state=""><span>Solutions</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"></path></svg></button></div><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/blog">Blog</a><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="https://actuated.dev/blog/blazing-fast-ci-with-microvms">Announcement</a><a class="text-base font-medium text-gray-500 hover:text-gray-900" href="https://docs.actuated.dev/">Docs</a></nav><div class="hidden items-center justify-end md:flex md:flex-1 lg:w-0"><a href="https://dashboard.actuated.dev" class="whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900">Sign in</a><a href="https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform" class="ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700">Sign-up</a></div></div></div></header><main><div class="container mx-auto max-w-4xl bg-white mt-4 px-4 sm:px-6"><h1 id="post_title" class="text-3xl mb-3 leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 text-center">Lessons learned managing GitHub Actions and Firecracker</h1></div><div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl"><div class="border-b border-gray-200 py-4 flex items-center text-gray-500 mx-auto"><div><img class="h-10 w-10 rounded-full" src="/images/alex.jpg" alt=""/></div><div class="ml-3"><p id="post_author" class="text-sm leading-5 font-medium text-gray-900">Alex Ellis</p><div class="flex text-sm leading-5 text-gray-500"><time dateTime="2023-03-31" id="post_date">March 31, 2023</time><span class="mx-1"></span></div></div></div><div class="mt-6 prose sm:prose-lg max-w-none"><p id="post_description" class="mb-4">Alex shares lessons from building a managed service for GitHub Actions with Firecracker.</p></div><div id="post_content" class="mt-6 prose sm:prose-lg max-w-none"><p>Over the past few months, we've launched over 20,000 VMs for customers and have handled over 60,000 webhook messages from the GitHub API. We've learned a lot from every customer PoC and from our own usage in OpenFaaS.</p>
<p>First of all - what is it we're offering? And how is it different to managed runners and the self-hosted runner that GitHub offers?</p>
<p>Actuated replicates the hosted experience you get from paying for hosted runners, and brings it to hardware under your own control. That could be a bare-metal Arm server, or a regular Intel/AMD cloud VM that has nested virtualisation enabled.</p>
<p>Just like managed runners - every time actuated starts up a runner, it's within a single-tenant virtual machine (VM), with an immutable filesystem.</p>
<p><a href="https://twitter.com/alexellisuk/status/1641471236738875399/photo/1"><img src="https://pbs.twimg.com/media/FsesfBIWAAEYjGY?format=jpg&#x26;name=large" alt="The Asahi Linux lab"></a></p>
<blockquote>
<p>Asahi Linux running on my lab of two M1 Mac Minis - used for building the Arm64 base images and Kernels.</p>
</blockquote>
<p>Can't you just use a self-hosted runner on a VM? Yes, of course you can. But it's actually more nuanced than that. The self-hosted runner <a href="https://actuated.dev/blog/is-the-self-hosted-runner-safe-github-actions">isn't safe</a> for OSS or public repos. And whether you run it directly on the host, or in Kubernetes - it's subject to side-effects, poor isolation, malware and in some cases uses very high privileges that could result in taking over a host completely.</p>
<p>You can learn more in the <a href="https://actuated.dev/blog/blazing-fast-ci-with-microvms">actuated announcement</a> and <a href="https://docs.actuated.dev/faq">FAQ</a>.</p>
<h2>how does it work?</h2>
<p>We run a SaaS - a managed control-plane which is installed onto your organisation as a GitHub App. At that point, we'll receive webhooks about jobs in a queued state.</p>
<p><img src="/images/2023-03-lessons-learned/conceptual.jpg" alt="Conceptual architecture"></p>
<p>As you can see in the diagram above, when a webhook is received, and we determine it's for your organisation, we'll schedule a <a href="https://firecracker-microvm.github.io/">Firecracker</a> MicroVM on one of your servers.</p>
<p>We have no access to your code or build secrets. We just obtain a registration token and send the runner a bit of metadata. Then we get out the way and let the self-hosted runner do its thing - in an isolated Kernel, with an immutable filesystem and its own Docker daemon.</p>
<p>Onboarding doesn't take very long - you can use your own servers or get them from a cloud provider. We've got a <a href="https://docs.actuated.dev/provision-server/">detailed guide</a>, but can also recommend an option on a discovery call.</p>
<p>Want to learn more about how Firecracker compares to VMs and containers? <a href="https://www.youtube.com/watch?v=CYCsa5e2vqg">Watch my webinar on YouTube</a></p>
<h2>Lesson 1 - GitHub's images are big and beautiful</h2>
<p>The first thing we noticed when building our actuated VM images was that the GitHub ones are huge.</p>
<p>And if you've ever tried to find out how they're built, or hoped to find a nice little Dockerfile, you can may be disappointed. The images for Linux, Windows and MacOS are built <a href="https://github.com/actions/runner-images">through a set of bespoke scripts</a>, and are hard to adapt for your own use.</p>
<p>Don't get me wrong. The scripts are very clever and they work well. GitHub have been tuning these runner images for years, and they cover a variety of different use-cases.</p>
<p>The first challenge for actuated before launching a pilot was getting enough of the most common packages installed through a Dockerfile. Most of our own internal software is built with Docker, so we can get by with quite a spartan environment.</p>
<p>We also had to adapt the sample Kernel configuration provided by the Firecracker team so that it could launch Docker and so it had everything it required to launch <a href="https://twitter.com/alexellisuk/status/1641476545695952905?s=20">Kubernetes</a>.</p>
<p><a href="https://twitter.com/alexellisuk/status/1641476545695952905/photo/1"><img src="https://pbs.twimg.com/media/FseyAyWXsAQJBCe?format=png&#x26;name=large" alt="M1s running Firecracker"></a></p>
<blockquote>
<p>Two M1 Mac Minis running Asahi Linux and four separate versions of K3s</p>
</blockquote>
<p>So by following the 80/20 principle, and focusing on the most common use-cases, we were able to launch quite quickly and cover 80% of the use-cases.</p>
<p>I don't know if you realised, things like Node.js are pre-installed in the environment, but many Node developers also add the "setup-node" action which guess what? Downloads and installs Node.js again. The same is true for many other languages and tools. We do ship Node.js and Python in the image, but the chances are that we could probably remove them at some point.</p>
<p>With one of our earliest pilots, a customer wanted to use a terraform action. It failed and I felt a bit embarrassed by the reason. We were missing unzip in our images.</p>
<p>The cure? Go and add unzip to the Dockerfile, and hit publish on our builder repository. In 3 minutes the problem was solved.</p>
<p>But GitHub Actions is also incredibly versatile and it means even if something is missing, we don't necessary have to publish a new image for you to continue your work. Just add a step to your workflow to install the missing package.</p>
<pre><code class="hljs language-yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Add</span> <span class="hljs-string">unzip</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">sudo</span> <span class="hljs-string">apt-get</span> <span class="hljs-string">install</span> <span class="hljs-string">-qy</span> <span class="hljs-string">unzip</span>
</code></pre>
<p>With every customer pilot we've done, there's tended to be one or two packages like this that they expected to see. For another customer it was "libpq". As a rule, if something is available in the hosted runner, we'll strongly consider adding it to ours.</p>
<h2>Lesson 2 - It’s not GitHub, it can’t be GitHub. It was GitHub</h2>
<p>Since actuated is a control-plane, a SaaS, a full-service - supported product, we are always asking first - is it us? Is it our code? Is it our infrastructure? Is it our network? Is it our hardware?</p>
<p>If you open up the <a href="https://githubstatus.com">GitHub status page</a>, you'll notice an outage almost every week - at times on consecutive days, or every few days on GitHub Actions or a service that affects them indirectly - like the package registry, Pages or Pull Requests.</p>
<p><img src="/images/2023-03-lessons-learned/outage.png" alt="Outage this week"></p>
<blockquote>
<p>The second outage this week that unfortunately affected actuated customers.</p>
</blockquote>
<p>I'm not bashing on GitHub here, we're paying a high R&#x26;D cost to build on their platform. We want them to do well.</p>
<p>But this is getting embarrassing. On a recent call, a customer told us: "it's not your solution, it looks great for us, it's the reliability of GitHub, we're worried about adopting it"</p>
<p>What can you say to that? I can't tell them that their concerns are misplaced, because they're not.</p>
<p>I reached out to Martin Woodward - Director of DevRel at GitHub. He told me that "leadership are taking this very seriously. We're doing better than we were 12 months ago."</p>
<p>GitHub is too big to fail. Let's hope they smooth out these bumps.</p>
<h2>Lesson 3 - Webhooks can be unreliable</h2>
<p>There's no good API to collect this historical data at the moment but we do have an open-source tool (<a href="https://github.com/self-actuated/actions-usage">self-actuated/actions-usage</a>) we give to customers to get a summary of their builds before they start out with us.</p>
<p>So we mirror a summary of job events from GitHub into our database, so that we can show customers trends in behaviour, and identify hot-spots on specific repos - long build times, or spikes in failure rates.</p>
<p><img src="https://pbs.twimg.com/media/FqnJ8rLXgAEnJDZ?format=png&#x26;name=large" alt="Insights chart"></p>
<blockquote>
<p>Insights chart from the actuated dashboard</p>
</blockquote>
<p>We noticed that from time to time, jobs would show in our database as "queued" or "in_progress" and we couldn't work out why. A VM had been scheduled, the job had run, and completed.</p>
<p>In some circumstances, GitHub forgot to send us an In Progress event, or they never sent us a queued event.</p>
<p>Or they sent us queued, in progress, then completed, but in the reverse order.</p>
<p>It took us longer than I'm comfortable with to track down this issue, but we've now adapted our API to handle these edge-cases.</p>
<p>Some deeper digging showed that people have also had issues with Stripe webhooks coming out of order. We saw this issue only very recently, after handling 60k webhooks - so perhaps it was a change in the system being used at GitHub?</p>
<h2>Lesson 4 - Autoscaling is hard and the API is sometimes wrong</h2>
<p>We launch a VM on your servers for every time we receive a queued event. But we have no good way of saying that a particular VM can only run for a certain job.</p>
<p>If there were five jobs queued up, then GitHub would send us five queued events, and we'd launch five VMs. But if the first job was cancelled, we'd still have all of those VMs running.</p>
<p>Why? Why can't we delete the 5th?</p>
<p>Because there is no determinism. It'd be a great improvement for user experience if we could tell GitHub's API - "great, we see you queued build X, it must run on a runner with label Y". But we can't do that today.</p>
<p>So we developed a "reaper" - a background task that tracks launched VMs and can delete them after a period of inactivity. We did have an initial issue where GitHub was taking over a minute to send a job to a ready runner, which we fixed by increasing the idle timeout value. Right now it's working really well.</p>
<p>There is still one remaining quirk where GitHub's API reports that an active runner where a job is running as idle. This happens surprisingly often - but it's not a big deal, the VM deletion call gets rejected by the GitHub API.</p>
<h2>Lesson 5 - We can launch in under one second, but what about GitHub?</h2>
<p>The way we have things tuned today, the delay from you hitting commit in GitHub, to the job executing is similar to that of hosted runners. But sometimes, GitHub lags a little - especially during an outage or when they're under heavy load.</p>
<p><img src="/images/2023-03-lessons-learned/vms_running.png" alt="VM launches"></p>
<blockquote>
<p>Grafana Cloud showing a gauge of microVMs per managed host</p>
</blockquote>
<p>There could be a delay between when you commit, and when GitHub delivers the "queued" webhook.</p>
<p>Scoring and placing a VM on your servers is very quick, then the boot time of the microVM is generally less than 1 second including starting up a dedicated Docker daemon inside the VM.</p>
<p>Then the runner has to run a configuration script to register itself on the API</p>
<p>Finally, the runner connects to a queue, and GitHub has to send it a payload to start the job.</p>
<p>On those last two steps - we see a high success rate, but occasionally, GitHub's API will fail on either of those two operations. We receive an alert via Grafana Cloud and Discord - then investigate. In the worst case, we re-queue via our API the job and the new VM will pick up the pending job.</p>
<p>Want to <a href="https://www.youtube.com/watch?v=2o28iUC-J1w">watch a demo</a>?</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2o28iUC-J1w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2>Lesson 6 - Sometimes we need to debug a runner</h2>
<p>When I announced actuated, I heard a lot of people asking for CircleCI's debug experience, <a href="https://docs.actuated.dev/tasks/debug-ssh/">so I built something similar</a> and it's proved to be really useful for us in building actuated.</p>
<p>Only yesterday, Ivan Subotic from Dasch Swiss messaged me and said:</p>
<blockquote>
<p>"How cool!!! you don’t know how many hours I have lost on GitHub Actions without this."</p>
</blockquote>
<p>Recently there were two cases where we needed to debug a runner with an SSH shell.</p>
<p>The first was for a machine on Hetzner, where the Docker Daemon was unable to pull images due to a DNS failure. I added steps to print out <code>/etc/resolv.conf</code> and that would be my first port of call. Debugging is great, but it's slow, if an extra step in the workflow can help us diagnose the problem, it's worth it.</p>
<p>In the end, it took me about a day and a half to work out that Hetzner was blocking outgoing traffic on port 53 to Google and Cloudflare. What was worse - was that it was an intermittent problem.</p>
<p>When we did other customer PoCs on Hetzner, we did not run into this issue. I even launched a "cloud" VM in the same region and performed a couple of <code>nslookup</code>s - they worked as expected for me.</p>
<p>So I developed a <a href="https://github.com/self-actuated/hetzner-dns-action">custom GitHub Action</a> to unblock the customer:</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">self-actuated/hetzner-dns-action@v1</span>
</code></pre>
<p>Was this environmental issue with Hetzner our responsibility? Arguably not, but our customers pay us to provide a "like managed" solution, and we are currently able to help them be successful.</p>
<p>In the second case, Ivan needed to launch headless Chrome, and was using one of the many <code>setup-X</code> actions from the marketplace.</p>
<p>I opened a debug session on one of our own runners, then worked backwards:</p>
<pre><code class="hljs language-bash">curl -sLS -O https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb

dpkg -i ./google-chrome-stable_current_amd64.deb
</code></pre>
<p>This reported that some packages were missing, I got which packages by running <code>apt-get --fix-missing --no-recommends</code> and provided an example of how to add them.</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">jobs:</span>
    <span class="hljs-attr">chrome:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">chrome</span>
        <span class="hljs-attr">runs-on:</span> <span class="hljs-string">actuated</span>
        <span class="hljs-attr">steps:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Add</span> <span class="hljs-string">extra</span> <span class="hljs-string">packages</span> <span class="hljs-string">for</span> <span class="hljs-string">Chrome</span>
          <span class="hljs-attr">run:</span> <span class="hljs-string">|
            sudo apt install -qyyy --no-install-recommends adwaita-icon-theme fontconfig fontconfig-config fonts-liberation gtk-update-icon-cache hicolor-icon-theme humanity-icon-theme libatk-bridge2.0-0 libatk1.0-0 libatk1.0-data libatspi2.0-0 ...
</span>        <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">browser-actions/setup-chrome@v1</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">chrome</span> <span class="hljs-string">--version</span>
</code></pre>
<p>We could also add these to the base image by editing the Dockerfile that we maintain.</p>
<h2>Lesson 7 - Docker Hub Rate Limits are a pain</h2>
<p>Docker Hub rate limits are more of a pain on self-hosted runners than they are on GitHub's own runners.</p>
<p>I ran into this problem whilst trying to rebuild around 20 OpenFaaS Pro repositories to upgrade a base image. So after a very short period of time, all code ground to a halt and every build failed.</p>
<p>GitHub has a deal to pay Docker Inc so that you don't run into rate limits. At time of writing, you'll find a valid Docker Hub credential in the <code>$HOME/.docker/config.json</code> file on any hosted runner.</p>
<p>Actuated customers would need to login at the top of every one of their builds that used Docker, and create an organisation-level secret with a pull token from the Docker Hub.</p>
<p>We found a way to automate this, and speed up subsequent jobs by <a href="https://docs.actuated.dev/tasks/registry-mirror/">caching images directly on the customer's server</a>.</p>
<p>All they need to add to their builds is:</p>
<pre><code class="hljs language-yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">self-actuated/hub-mirror@master</span>
</code></pre>
<h2>Wrapping up</h2>
<p>I hope that you've enjoyed hearing a bit about our journey so far. With every new pilot customer we learn something new, and improve the offering.</p>
<p>Whilst there was a significant amount of very technical work at the beginning of actuated, most of our time now is spent on customer support, education, and improving the onboarding experience.</p>
<p>If you'd like to know how actuated compares to hosted runners or managing the self-hosted runner on your own, we'd encourage <a href="https://actuated.dev/blog">checking out the blog</a> and <a href="https://actuated.dev/faq">FAQ</a>.</p>
<p>Are your builds slowing the team down? Do you need better organisation-level insights and reporting? Or do you need Arm support? Are you frustrated with managing self-hosted runners?</p>
<p><a href="https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform">Reach out to us take part in the pilot</a></p></div></div></main><footer class="bg-white"><div class="mx-auto max-w-7xl py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8"><div class="flex justify-center space-x-6 md:order-2"><a class="text-gray-400 hover:text-gray-500" href="https://twitter.com/selfactuated"><span class="sr-only">Twitter</span><svg fill="currentColor" viewBox="0 0 24 24" class="h-6 w-6" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a class="text-gray-400 hover:text-gray-500" href="https://github.com/self-actuated"><span class="sr-only">GitHub</span><svg fill="currentColor" viewBox="0 0 24 24" class="h-6 w-6" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a class="text-gray-400 hover:text-gray-500" href="/rss.xml"><span class="sr-only">RSS</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a></div><div class="mt-8 md:order-1 md:mt-0"><p class="text-center text-base text-gray-400">© 2022 <a href="https://openfaas.com">OpenFaaS Ltd</a>, Inc. All rights reserved.</p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"managing-github-actions","fileName":"2023-03-31-managing-github-actions.md","contentHtml":"\u003cp\u003eOver the past few months, we've launched over 20,000 VMs for customers and have handled over 60,000 webhook messages from the GitHub API. We've learned a lot from every customer PoC and from our own usage in OpenFaaS.\u003c/p\u003e\n\u003cp\u003eFirst of all - what is it we're offering? And how is it different to managed runners and the self-hosted runner that GitHub offers?\u003c/p\u003e\n\u003cp\u003eActuated replicates the hosted experience you get from paying for hosted runners, and brings it to hardware under your own control. That could be a bare-metal Arm server, or a regular Intel/AMD cloud VM that has nested virtualisation enabled.\u003c/p\u003e\n\u003cp\u003eJust like managed runners - every time actuated starts up a runner, it's within a single-tenant virtual machine (VM), with an immutable filesystem.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://twitter.com/alexellisuk/status/1641471236738875399/photo/1\"\u003e\u003cimg src=\"https://pbs.twimg.com/media/FsesfBIWAAEYjGY?format=jpg\u0026#x26;name=large\" alt=\"The Asahi Linux lab\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAsahi Linux running on my lab of two M1 Mac Minis - used for building the Arm64 base images and Kernels.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eCan't you just use a self-hosted runner on a VM? Yes, of course you can. But it's actually more nuanced than that. The self-hosted runner \u003ca href=\"https://actuated.dev/blog/is-the-self-hosted-runner-safe-github-actions\"\u003eisn't safe\u003c/a\u003e for OSS or public repos. And whether you run it directly on the host, or in Kubernetes - it's subject to side-effects, poor isolation, malware and in some cases uses very high privileges that could result in taking over a host completely.\u003c/p\u003e\n\u003cp\u003eYou can learn more in the \u003ca href=\"https://actuated.dev/blog/blazing-fast-ci-with-microvms\"\u003eactuated announcement\u003c/a\u003e and \u003ca href=\"https://docs.actuated.dev/faq\"\u003eFAQ\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003ehow does it work?\u003c/h2\u003e\n\u003cp\u003eWe run a SaaS - a managed control-plane which is installed onto your organisation as a GitHub App. At that point, we'll receive webhooks about jobs in a queued state.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/2023-03-lessons-learned/conceptual.jpg\" alt=\"Conceptual architecture\"\u003e\u003c/p\u003e\n\u003cp\u003eAs you can see in the diagram above, when a webhook is received, and we determine it's for your organisation, we'll schedule a \u003ca href=\"https://firecracker-microvm.github.io/\"\u003eFirecracker\u003c/a\u003e MicroVM on one of your servers.\u003c/p\u003e\n\u003cp\u003eWe have no access to your code or build secrets. We just obtain a registration token and send the runner a bit of metadata. Then we get out the way and let the self-hosted runner do its thing - in an isolated Kernel, with an immutable filesystem and its own Docker daemon.\u003c/p\u003e\n\u003cp\u003eOnboarding doesn't take very long - you can use your own servers or get them from a cloud provider. We've got a \u003ca href=\"https://docs.actuated.dev/provision-server/\"\u003edetailed guide\u003c/a\u003e, but can also recommend an option on a discovery call.\u003c/p\u003e\n\u003cp\u003eWant to learn more about how Firecracker compares to VMs and containers? \u003ca href=\"https://www.youtube.com/watch?v=CYCsa5e2vqg\"\u003eWatch my webinar on YouTube\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eLesson 1 - GitHub's images are big and beautiful\u003c/h2\u003e\n\u003cp\u003eThe first thing we noticed when building our actuated VM images was that the GitHub ones are huge.\u003c/p\u003e\n\u003cp\u003eAnd if you've ever tried to find out how they're built, or hoped to find a nice little Dockerfile, you can may be disappointed. The images for Linux, Windows and MacOS are built \u003ca href=\"https://github.com/actions/runner-images\"\u003ethrough a set of bespoke scripts\u003c/a\u003e, and are hard to adapt for your own use.\u003c/p\u003e\n\u003cp\u003eDon't get me wrong. The scripts are very clever and they work well. GitHub have been tuning these runner images for years, and they cover a variety of different use-cases.\u003c/p\u003e\n\u003cp\u003eThe first challenge for actuated before launching a pilot was getting enough of the most common packages installed through a Dockerfile. Most of our own internal software is built with Docker, so we can get by with quite a spartan environment.\u003c/p\u003e\n\u003cp\u003eWe also had to adapt the sample Kernel configuration provided by the Firecracker team so that it could launch Docker and so it had everything it required to launch \u003ca href=\"https://twitter.com/alexellisuk/status/1641476545695952905?s=20\"\u003eKubernetes\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://twitter.com/alexellisuk/status/1641476545695952905/photo/1\"\u003e\u003cimg src=\"https://pbs.twimg.com/media/FseyAyWXsAQJBCe?format=png\u0026#x26;name=large\" alt=\"M1s running Firecracker\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTwo M1 Mac Minis running Asahi Linux and four separate versions of K3s\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSo by following the 80/20 principle, and focusing on the most common use-cases, we were able to launch quite quickly and cover 80% of the use-cases.\u003c/p\u003e\n\u003cp\u003eI don't know if you realised, things like Node.js are pre-installed in the environment, but many Node developers also add the \"setup-node\" action which guess what? Downloads and installs Node.js again. The same is true for many other languages and tools. We do ship Node.js and Python in the image, but the chances are that we could probably remove them at some point.\u003c/p\u003e\n\u003cp\u003eWith one of our earliest pilots, a customer wanted to use a terraform action. It failed and I felt a bit embarrassed by the reason. We were missing unzip in our images.\u003c/p\u003e\n\u003cp\u003eThe cure? Go and add unzip to the Dockerfile, and hit publish on our builder repository. In 3 minutes the problem was solved.\u003c/p\u003e\n\u003cp\u003eBut GitHub Actions is also incredibly versatile and it means even if something is missing, we don't necessary have to publish a new image for you to continue your work. Just add a step to your workflow to install the missing package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eAdd\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eunzip\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003esudo\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eapt-get\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003einstall\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e-qy\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eunzip\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith every customer pilot we've done, there's tended to be one or two packages like this that they expected to see. For another customer it was \"libpq\". As a rule, if something is available in the hosted runner, we'll strongly consider adding it to ours.\u003c/p\u003e\n\u003ch2\u003eLesson 2 - It’s not GitHub, it can’t be GitHub. It was GitHub\u003c/h2\u003e\n\u003cp\u003eSince actuated is a control-plane, a SaaS, a full-service - supported product, we are always asking first - is it us? Is it our code? Is it our infrastructure? Is it our network? Is it our hardware?\u003c/p\u003e\n\u003cp\u003eIf you open up the \u003ca href=\"https://githubstatus.com\"\u003eGitHub status page\u003c/a\u003e, you'll notice an outage almost every week - at times on consecutive days, or every few days on GitHub Actions or a service that affects them indirectly - like the package registry, Pages or Pull Requests.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/2023-03-lessons-learned/outage.png\" alt=\"Outage this week\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe second outage this week that unfortunately affected actuated customers.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI'm not bashing on GitHub here, we're paying a high R\u0026#x26;D cost to build on their platform. We want them to do well.\u003c/p\u003e\n\u003cp\u003eBut this is getting embarrassing. On a recent call, a customer told us: \"it's not your solution, it looks great for us, it's the reliability of GitHub, we're worried about adopting it\"\u003c/p\u003e\n\u003cp\u003eWhat can you say to that? I can't tell them that their concerns are misplaced, because they're not.\u003c/p\u003e\n\u003cp\u003eI reached out to Martin Woodward - Director of DevRel at GitHub. He told me that \"leadership are taking this very seriously. We're doing better than we were 12 months ago.\"\u003c/p\u003e\n\u003cp\u003eGitHub is too big to fail. Let's hope they smooth out these bumps.\u003c/p\u003e\n\u003ch2\u003eLesson 3 - Webhooks can be unreliable\u003c/h2\u003e\n\u003cp\u003eThere's no good API to collect this historical data at the moment but we do have an open-source tool (\u003ca href=\"https://github.com/self-actuated/actions-usage\"\u003eself-actuated/actions-usage\u003c/a\u003e) we give to customers to get a summary of their builds before they start out with us.\u003c/p\u003e\n\u003cp\u003eSo we mirror a summary of job events from GitHub into our database, so that we can show customers trends in behaviour, and identify hot-spots on specific repos - long build times, or spikes in failure rates.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://pbs.twimg.com/media/FqnJ8rLXgAEnJDZ?format=png\u0026#x26;name=large\" alt=\"Insights chart\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eInsights chart from the actuated dashboard\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eWe noticed that from time to time, jobs would show in our database as \"queued\" or \"in_progress\" and we couldn't work out why. A VM had been scheduled, the job had run, and completed.\u003c/p\u003e\n\u003cp\u003eIn some circumstances, GitHub forgot to send us an In Progress event, or they never sent us a queued event.\u003c/p\u003e\n\u003cp\u003eOr they sent us queued, in progress, then completed, but in the reverse order.\u003c/p\u003e\n\u003cp\u003eIt took us longer than I'm comfortable with to track down this issue, but we've now adapted our API to handle these edge-cases.\u003c/p\u003e\n\u003cp\u003eSome deeper digging showed that people have also had issues with Stripe webhooks coming out of order. We saw this issue only very recently, after handling 60k webhooks - so perhaps it was a change in the system being used at GitHub?\u003c/p\u003e\n\u003ch2\u003eLesson 4 - Autoscaling is hard and the API is sometimes wrong\u003c/h2\u003e\n\u003cp\u003eWe launch a VM on your servers for every time we receive a queued event. But we have no good way of saying that a particular VM can only run for a certain job.\u003c/p\u003e\n\u003cp\u003eIf there were five jobs queued up, then GitHub would send us five queued events, and we'd launch five VMs. But if the first job was cancelled, we'd still have all of those VMs running.\u003c/p\u003e\n\u003cp\u003eWhy? Why can't we delete the 5th?\u003c/p\u003e\n\u003cp\u003eBecause there is no determinism. It'd be a great improvement for user experience if we could tell GitHub's API - \"great, we see you queued build X, it must run on a runner with label Y\". But we can't do that today.\u003c/p\u003e\n\u003cp\u003eSo we developed a \"reaper\" - a background task that tracks launched VMs and can delete them after a period of inactivity. We did have an initial issue where GitHub was taking over a minute to send a job to a ready runner, which we fixed by increasing the idle timeout value. Right now it's working really well.\u003c/p\u003e\n\u003cp\u003eThere is still one remaining quirk where GitHub's API reports that an active runner where a job is running as idle. This happens surprisingly often - but it's not a big deal, the VM deletion call gets rejected by the GitHub API.\u003c/p\u003e\n\u003ch2\u003eLesson 5 - We can launch in under one second, but what about GitHub?\u003c/h2\u003e\n\u003cp\u003eThe way we have things tuned today, the delay from you hitting commit in GitHub, to the job executing is similar to that of hosted runners. But sometimes, GitHub lags a little - especially during an outage or when they're under heavy load.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/2023-03-lessons-learned/vms_running.png\" alt=\"VM launches\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eGrafana Cloud showing a gauge of microVMs per managed host\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThere could be a delay between when you commit, and when GitHub delivers the \"queued\" webhook.\u003c/p\u003e\n\u003cp\u003eScoring and placing a VM on your servers is very quick, then the boot time of the microVM is generally less than 1 second including starting up a dedicated Docker daemon inside the VM.\u003c/p\u003e\n\u003cp\u003eThen the runner has to run a configuration script to register itself on the API\u003c/p\u003e\n\u003cp\u003eFinally, the runner connects to a queue, and GitHub has to send it a payload to start the job.\u003c/p\u003e\n\u003cp\u003eOn those last two steps - we see a high success rate, but occasionally, GitHub's API will fail on either of those two operations. We receive an alert via Grafana Cloud and Discord - then investigate. In the worst case, we re-queue via our API the job and the new VM will pick up the pending job.\u003c/p\u003e\n\u003cp\u003eWant to \u003ca href=\"https://www.youtube.com/watch?v=2o28iUC-J1w\"\u003ewatch a demo\u003c/a\u003e?\u003c/p\u003e\n\u003ciframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/2o28iUC-J1w\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen\u003e\u003c/iframe\u003e\n\u003ch2\u003eLesson 6 - Sometimes we need to debug a runner\u003c/h2\u003e\n\u003cp\u003eWhen I announced actuated, I heard a lot of people asking for CircleCI's debug experience, \u003ca href=\"https://docs.actuated.dev/tasks/debug-ssh/\"\u003eso I built something similar\u003c/a\u003e and it's proved to be really useful for us in building actuated.\u003c/p\u003e\n\u003cp\u003eOnly yesterday, Ivan Subotic from Dasch Swiss messaged me and said:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"How cool!!! you don’t know how many hours I have lost on GitHub Actions without this.\"\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eRecently there were two cases where we needed to debug a runner with an SSH shell.\u003c/p\u003e\n\u003cp\u003eThe first was for a machine on Hetzner, where the Docker Daemon was unable to pull images due to a DNS failure. I added steps to print out \u003ccode\u003e/etc/resolv.conf\u003c/code\u003e and that would be my first port of call. Debugging is great, but it's slow, if an extra step in the workflow can help us diagnose the problem, it's worth it.\u003c/p\u003e\n\u003cp\u003eIn the end, it took me about a day and a half to work out that Hetzner was blocking outgoing traffic on port 53 to Google and Cloudflare. What was worse - was that it was an intermittent problem.\u003c/p\u003e\n\u003cp\u003eWhen we did other customer PoCs on Hetzner, we did not run into this issue. I even launched a \"cloud\" VM in the same region and performed a couple of \u003ccode\u003enslookup\u003c/code\u003es - they worked as expected for me.\u003c/p\u003e\n\u003cp\u003eSo I developed a \u003ca href=\"https://github.com/self-actuated/hetzner-dns-action\"\u003ecustom GitHub Action\u003c/a\u003e to unblock the customer:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n    \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eself-actuated/hetzner-dns-action@v1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWas this environmental issue with Hetzner our responsibility? Arguably not, but our customers pay us to provide a \"like managed\" solution, and we are currently able to help them be successful.\u003c/p\u003e\n\u003cp\u003eIn the second case, Ivan needed to launch headless Chrome, and was using one of the many \u003ccode\u003esetup-X\u003c/code\u003e actions from the marketplace.\u003c/p\u003e\n\u003cp\u003eI opened a debug session on one of our own runners, then worked backwards:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ecurl -sLS -O https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n\ndpkg -i ./google-chrome-stable_current_amd64.deb\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis reported that some packages were missing, I got which packages by running \u003ccode\u003eapt-get --fix-missing --no-recommends\u003c/code\u003e and provided an example of how to add them.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003ejobs:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003echrome:\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003echrome\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactuated\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n        \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eAdd\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eextra\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epackages\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eChrome\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e|\n            sudo apt install -qyyy --no-install-recommends adwaita-icon-theme fontconfig fontconfig-config fonts-liberation gtk-update-icon-cache hicolor-icon-theme humanity-icon-theme libatk-bridge2.0-0 libatk1.0-0 libatk1.0-data libatspi2.0-0 ...\n\u003c/span\u003e        \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebrowser-actions/setup-chrome@v1\u003c/span\u003e\n        \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003echrome\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--version\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe could also add these to the base image by editing the Dockerfile that we maintain.\u003c/p\u003e\n\u003ch2\u003eLesson 7 - Docker Hub Rate Limits are a pain\u003c/h2\u003e\n\u003cp\u003eDocker Hub rate limits are more of a pain on self-hosted runners than they are on GitHub's own runners.\u003c/p\u003e\n\u003cp\u003eI ran into this problem whilst trying to rebuild around 20 OpenFaaS Pro repositories to upgrade a base image. So after a very short period of time, all code ground to a halt and every build failed.\u003c/p\u003e\n\u003cp\u003eGitHub has a deal to pay Docker Inc so that you don't run into rate limits. At time of writing, you'll find a valid Docker Hub credential in the \u003ccode\u003e$HOME/.docker/config.json\u003c/code\u003e file on any hosted runner.\u003c/p\u003e\n\u003cp\u003eActuated customers would need to login at the top of every one of their builds that used Docker, and create an organisation-level secret with a pull token from the Docker Hub.\u003c/p\u003e\n\u003cp\u003eWe found a way to automate this, and speed up subsequent jobs by \u003ca href=\"https://docs.actuated.dev/tasks/registry-mirror/\"\u003ecaching images directly on the customer's server\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAll they need to add to their builds is:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eself-actuated/hub-mirror@master\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eWrapping up\u003c/h2\u003e\n\u003cp\u003eI hope that you've enjoyed hearing a bit about our journey so far. With every new pilot customer we learn something new, and improve the offering.\u003c/p\u003e\n\u003cp\u003eWhilst there was a significant amount of very technical work at the beginning of actuated, most of our time now is spent on customer support, education, and improving the onboarding experience.\u003c/p\u003e\n\u003cp\u003eIf you'd like to know how actuated compares to hosted runners or managing the self-hosted runner on your own, we'd encourage \u003ca href=\"https://actuated.dev/blog\"\u003echecking out the blog\u003c/a\u003e and \u003ca href=\"https://actuated.dev/faq\"\u003eFAQ\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAre your builds slowing the team down? Do you need better organisation-level insights and reporting? Or do you need Arm support? Are you frustrated with managing self-hosted runners?\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://docs.google.com/forms/d/e/1FAIpQLScA12IGyVFrZtSAp2Oj24OdaSMloqARSwoxx3AZbQbs0wpGww/viewform\"\u003eReach out to us take part in the pilot\u003c/a\u003e\u003c/p\u003e","title":"Lessons learned managing GitHub Actions and Firecracker","description":"Alex shares lessons from building a managed service for GitHub Actions with Firecracker.","author":"Alex Ellis","tags":["baremetal","githubactions","saas","lessons","github"],"author_img":"alex","image":"/images/2023-03-lessons-learned/background.jpg","date":"2023-03-31"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"managing-github-actions"},"buildId":"xNxKTL9EdRozXIoduewS4","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>